# lazy-faketls

# اسکریپت راه اندازی سریع faketls

قدم اول
دانلود فایل های مورد نیاز و تنظیمات اولیه (در هردو سرور اجرا شود) :
```
apt install wget
wget https://github.com/omid-j-d/lazy-faketls/releases/download/bash/faketls.sh
chmod +x faketls.sh
```

قدم دوم
اجرای فایل bash
```
bash faketls.sh
```
بعد از اجرای دستور در صورتی که در سرور خارج اسکریپت را اجرا میکنید o و در صورتی که در سرور داخل ایران اجرا میکنید i را انتخاب کنید 
در گزینه دوم پورت کانفیگ خود را وارد کنید
در گزینه سوم پورت تانل را انتخاب کنید (ترجیحا 443 یا 2056)
در سرور ایران یک گزینه بیشتر دارد که باید در اون ادرس آی پی سرور خارجتون رو تایپ کنید
در اخر هم یک عدد برای سرویس خودتون انتخاب کنید (این مورد برای تانل از چند سرور به یک سرور متفاوت میتواند مفید باشد)


# طریقه مدیریت سرویس:

برای مشاهده وضعیت سرویس میتوانید از دستور زیر استفاده کنید
```
systemctl status ftt{service_number}
```

برای راه اندازی دوباره سرویس میتوانید از دستور زیر استفاده کنید
```
systemctl restart ftt{service_number}
```

برای متوقف کردن سرویس میتوانید از دستور زیر استفاده کنید
```
systemctl stop ftt{service_number}
```

برای روشن کردن سرویس میتوانید از دستور زیر استفاده کنید
```
systemctl start ftt{service_number}
```

مسیر فایل سرویس ایجاد شده
```
/etc/systemd/system/ftt$number.service
```

کافیست در دستور بالا به جای {service_number} عددی که در هنگام ایجاد سرویس وارده کرده اید را جای گذاری کنید 

# نکته
توجه کنید برای راه اندازی این روش تانل سرور با رم زیر ۱ گیگ مناسب نیست 
در این اسکریپت مشکل لاگ faketls حل شده و همچنین جهت استاپ نشدن سرویس هر 6 ساعت یک بار به طور خودکار ری استارت میشه
در صورتی که این روش کار نکرد ممکن است مشکل از dns سرور باشد برای رفع این مشکل کافیست dns سرور رو تغییر بدین برای این کار فایل resolv.conf را با ویرایشگر nano باز میکنیم 

``` nano /etc/resolv.conf ```

بعد از اون dns پیشفرض nameserver 127.0.0.53 رو حذف کنید و مقادیر زیر رو جایگذاری کنید

```
nameserver 8.8.8.8
nameserver 1.1.1.1
```

پیشنهاد: اگر از termius استفاده میکنید میتوانید یک snippet ایجاد کنید و تمامی کد هارا در یک بسته قرار دهید تا با یک کلیک تمامی دستورات اجرا شود
